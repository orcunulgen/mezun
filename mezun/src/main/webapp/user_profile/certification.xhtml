<ui:composition template="/templates/user/user_profile_template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- <f:metadata>
		<f:event type="preRenderView" listener="#{personalInfoView.checkURL}" />
	</f:metadata> -->

	<ui:define name="main_container">
		<h:outputStylesheet library="css"
			name="user_profile/certification.css" />
		<div class="certification">

			<h:form id="list_certification_form">
				<p:growl id="list_certification_messages" />
				<p:dataTable var="certificationList"
					value="#{certificationView.certifications}" paginator="true"
					rows="10">
					<p:column style="width:15%">
						<f:facet name="header">
							<h:outputText value="İşlemler" />
						</f:facet>
						<p:commandButton id="selectButton"
							actionListener="#{certificationView.initSelectedCertification(certificationList)}"
							update=":certification_dialog_form"
							oncomplete="certificationUpdateDialog.show()"
							icon="ui-icon-search" title="View">
						</p:commandButton>
						<p:commandButton id="deleteButton"
							actionListener="#{certificationView.deleteSelectedCertification(certificationList)}"
							icon="ui-icon-close" title="Delete">
						</p:commandButton>
					</p:column>
					<p:column headerText="Sertifika İsmi">
						<h:outputText value="#{certificationList.certificateName}" />
					</p:column>
					<p:column headerText="Alınma Tarihi">
						<h:outputText value="#{certificationList.certificateDate}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
					</p:column>
					<p:column headerText="Alındığı Kurum">
						<h:outputText value="#{certificationList.institution}" />
					</p:column>
				</p:dataTable>
			</h:form>

			<p:dialog header="Sertifika Ayrıntıları"
				widgetVar="certificationUpdateDialog" resizable="false"
				id="certificationUpdateDlg" showEffect="fade" modal="true">
				<h:form id="certification_dialog_form">
					<p:growl id="selected_certification_dialog_messages" />
					<h:panelGrid id="certification_detail_display" columns="2"
						cellpadding="4" style="margin:0 auto;">

						<h:outputText value="Sertifika İsmi :" />
						<p:inputText
							value="#{certificationView.selectedCertification.certificateName}"
							required="true" requiredMessage="Lütfen sertifika ismi giriniz." />

						<h:outputText value="Açıklama :" />
						<p:inputTextarea
							value="#{certificationView.selectedCertification.description}"
							rows="5" cols="50" maxlength="100" autoResize="false"
							required="true"
							requiredMessage="Lütfen sertifikanızın detaylarını açıklayınız." />

						<h:outputText value="Alınma Tarihi :" />
						<p:calendar
							value="#{certificationView.selectedCertification.certificateDate}"
							showOn="button" />

						<h:outputText value="Alındığı Kurum :" />
						<p:inputText
							value="#{certificationView.selectedCertification.institution}"
							required="true" requiredMessage="Lütfen alındığı kurumu giriniz." />

					</h:panelGrid>
					<p:commandButton action="#{certificationView.updateCertification}"
						value="Kaydet" ajax="true" icon="ui-icon-disk" update=":certification_dialog_form" />
				</h:form>
			</p:dialog>




			<p:commandButton value="Yeni Sertifika Ekle" type="button"
				onclick="certificationAddDialog.show()" />
			<p:dialog header="Sertifika Ekle"
				widgetVar="certificationAddDialog" resizable="false"
				id="certificationAddDlg" showEffect="fade" modal="true">
				<h:form id="dialog_certification_add_form">
					<p:growl id="certification_add_messages" />
					<h:panelGrid id="certification_add_display" columns="2"
						cellpadding="4" style="margin:0 auto;">

						<h:outputText value="Sertifika İsmi :" />
						<p:inputText
							value="#{certificationView.certification.certificateName}"
							required="true" requiredMessage="Lütfen sertifika ismi giriniz." />

						<h:outputText value="Açıklama :" />
						<p:inputTextarea id="form_add_description"
							value="#{certificationView.certification.description}" rows="5"
							cols="50" maxlength="100" autoResize="false" required="true"
							requiredMessage="Lütfen sertifika detaylarını açıklayınız." />

						<h:outputText value="Alınma Tarihi :" />
						<p:calendar
							value="#{certificationView.certification.certificateDate}"
							showOn="button" />
							
						<h:outputText value="Alındığı Kurum :" />
						<p:inputText
							value="#{certificationView.certification.institution}"
							required="true" requiredMessage="Lütfen alındığı kurumu giriniz." />


					</h:panelGrid>
					<p:commandButton action="#{certificationView.addCertification}"
						value="Ekle" ajax="true" icon="ui-icon-disk" update=":dialog_certification_add_form" />
				</h:form>
			</p:dialog>
		</div>
	</ui:define>
</ui:composition>